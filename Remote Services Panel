/* -------------------------------------------------------------------
    BCM Remote Functions Simulation
    Handles: Door Open, Hood Open, Trunk Open
    Uses System Variables under namespace: BCM
   ------------------------------------------------------------------- */

variables
{
  // Used for logging, timing, animations later if needed.
}

/* -------------------------------------------------------------------
    Helper Functions
   ------------------------------------------------------------------- */

void BCM_OpenDoor(char door[])
{
  write("BCM: Open Command Received for Door %s", door);
}

void BCM_OpenHood()
{
  write("BCM: Hood Open Command Triggered");
}

void BCM_OpenTrunk()
{
  write("BCM: Trunk Open Command Triggered");
}

/* -------------------------------------------------------------------
    Door Command Handlers
   ------------------------------------------------------------------- */

on sysvar BCM.Doors.FL.OpenCmd
{
  if (sysvar.getBool("BCM.Doors.FL.OpenCmd"))
  {
    BCM_OpenDoor("FL");
    sysvar.set("BCM.Doors.FL.OpenCmd", false);
  }
}

on sysvar BCM.Doors.FR.OpenCmd
{
  if (sysvar.getBool("BCM.Doors.FR.OpenCmd"))
  {
    BCM_OpenDoor("FR");
    sysvar.set("BCM.Doors.FR.OpenCmd", false);
  }
}

on sysvar BCM.Doors.RL.OpenCmd
{
  if (sysvar.getBool("BCM.Doors.RL.OpenCmd"))
  {
    BCM_OpenDoor("RL");
    sysvar.set("BCM.Doors.RL.OpenCmd", false);
  }
}

on sysvar BCM.Doors.RR.OpenCmd
{
  if (sysvar.getBool("BCM.Doors.RR.OpenCmd"))
  {
    BCM_OpenDoor("RR");
    sysvar.set("BCM.Doors.RR.OpenCmd", false);
  }
}

/* -------------------------------------------------------------------
    Hood Command Handler
   ------------------------------------------------------------------- */

on sysvar BCM.Hood.OpenCmd
{
  if (sysvar.getBool("BCM.Hood.OpenCmd"))
  {
    BCM_OpenHood();
    sysvar.set("BCM.Hood.OpenCmd", false);
  }
}

/* -------------------------------------------------------------------
    Trunk Command Handler
   ------------------------------------------------------------------- */

on sysvar BCM.Trunk.OpenCmd
{
  if (sysvar.getBool("BCM.Trunk.OpenCmd"))
  {
    BCM_OpenTrunk();
    sysvar.set("BCM.Trunk.OpenCmd", false);
  }
}

/* -------------------------------------------------------------------
    Initialization Log
   ------------------------------------------------------------------- */

on start
{
  write("BCM Node Initialized - Remote Functions Ready");
}