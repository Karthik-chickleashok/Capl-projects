/*@!Encoding:65001*/
/* -------------------------------------------------------------------
    BCM Remote Functions Simulation
    Handles: Door Open, Hood Open, Trunk Open
    Uses System Variables under namespace: BCM
   ------------------------------------------------------------------- */

variables
{
  // Used for logging, timing, animations later if needed.
}

/* -------------------------------------------------------------------
    Helper Functions
   ------------------------------------------------------------------- */

void BCM_OpenDoor(char door[])
{
  write("BCM: Open Command Received for Door %s", door);
}

void BCM_OpenHood()
{
  write("BCM: Hood Open Command Triggered");
}

void BCM_OpenTrunk()
{
  write("BCM: Trunk Open Command Triggered");
}

/* -------------------------------------------------------------------
    Door Command Handlers
   ------------------------------------------------------------------- */

on sysvar BCM::Doors::FL_OpenCmd
{
  if (sysvar.getBool("BCM::Doors::FL_OpenCmd"))
  {
    BCM_OpenDoor("FL");
    sysvar.set("BCM::Doors::FL_OpenCmd", false);
  }
}

on sysvar BCM::Doors::FR_OpenCmd
{
  if (sysvar.getBool("BCM.Doors.FR_OpenCmd"))
  {
    BCM_OpenDoor("FR");
    sysvar.set("BCM.Doors.FR_OpenCmd", false);
  }
}

on sysvar BCM::Doors::RL_OpenCmd
{
  if (sysvar.getBool("BCM.Doors.RL_OpenCmd"))
  {
    BCM_OpenDoor("RL");
    sysvar.set("BCM.Doors.RL_OpenCmd", false);
  }
}

on sysvar BCM::Doors::RR_OpenCmd
{
  if (sysvar.getBool("BCM.Doors.RR.OpenCmd"))
  {
    BCM_OpenDoor("RR");
    sysvar.set("BCM.Doors.RR.OpenCmd", false);
  }
}

/* -------------------------------------------------------------------
    Hood Command Handler
   ------------------------------------------------------------------- */

on sysvar BCM::Hood::Hood_OpenCmd
{
  if (sysvar.getBool("BCM.Hood_OpenCmd"))
  {
    BCM_OpenHood();
    sysvar.set("BCM.Hood)OpenCmd", false);
  }
}

/* -------------------------------------------------------------------
    Trunk Command Handler
   ------------------------------------------------------------------- */

on sysvar BCM::Trunk::Trunk_OpenCmd
{
  if (sysvar.getBool("BCM.Trunk.OpenCmd"))
  {
    BCM_OpenTrunk();
    sysvar.set("BCM.Trunk.OpenCmd", false);
  }
}

/* -------------------------------------------------------------------
    Initialization Log
   ------------------------------------------------------------------- */

on start
{
  write("BCM Node Initialized - Remote Functions Ready");
}

sysvar 
